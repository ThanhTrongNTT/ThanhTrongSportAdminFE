import{j as e,d,o as k,f as C,r as c,p as P,q as D,s as E,t as F,u as B,v as M,w as R}from"./index-o91B1jGC.js";import{a as A,u as w}from"./index.esm-MmLEo1OQ.js";import{I}from"./ImageCustom-_HHb0Xsn.js";const U=({onClick:t,disable:s})=>e.jsxs("button",{type:"button",onClick:t,className:d("font-semibold text-orange-400 mr-4 px-6 py-2 rounded-md  flex items-center justify-center gap-2  transition-all",s?"bg-gray-100 !text-gray-c6 border !border-transparent cursor-no-drop pointer-events-none select-none":"hover:text-white hover:bg-gradient-to-br hover:from-orange-500  border border-orange-300 hover:to-pink-500"),children:[e.jsx("span",{className:"leading-none",children:e.jsx(k,{})}),"Cancel"]}),V=({children:t,disable:s})=>e.jsx("button",{type:"submit",className:d("text-white px-5 py-2 bg-gradient-to-brtext-lg font-semibold rounded-md hover:bg-gradient-to-br",s?"bg-gray-100 !text-gray-c6 border !border-transparent cursor-no-drop pointer-events-none select-none":"bg-gradient-to-br from-orange-500 to-pink-500 hover:from-orange-600 hover:to-pink-600"),children:t}),H=({control:t,name:s,placeholder:r,id:l,tabIndex:g,hasDisable:i,type:o})=>{const{field:n}=A({control:t,name:s,defaultValue:""});return e.jsx("div",{className:d("flex justify-center items-center gap-4 py-3"),children:e.jsx("input",{type:o||"text",className:"w-full bg-slate-200 rounded-lg text-c3 border-none",...n,placeholder:r,name:s,id:l,tabIndex:g,disabled:i})})},L=({htmlFor:t,className:s,children:r,color:l})=>e.jsx("div",{className:"inline-block",children:e.jsx("label",{htmlFor:t,className:d("inline-block cursor-pointer text-sm dark:text-c4 font-semibold !bg-transparent",s,l||"text-c3"),children:r})}),N=({children:t,hasDisable:s,color:r,...l})=>e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx(L,{htmlFor:l.id,className:d("font-DMSans leading-none",s&&"pointer-events-none select-none bg-gray-100",r),children:t}),e.jsx(H,{hasDisable:s,...l})]}),q=()=>{var u,p;const{userInfo:t}=C(a=>a.user),{handleSubmit:s,setValue:r,register:l,formState:{isSubmitting:g}}=w({mode:"onChange"}),[i,o]=c.useState(!0),[n,x]=c.useState(),m=()=>{var a;(a=document.getElementById("inp-upload"))==null||a.click()},h=async a=>{const b=a.target.files[0],v=await j(b);x(v)},j=a=>new Promise((b,v)=>{const f=new FileReader;f.readAsDataURL(a),f.onload=()=>{b(f.result)},f.onerror=S=>{v(S)}}),y=async({avatar:a})=>{o(!0),window.location.reload()};return c.useEffect(()=>{var a,b;x((b=(a=t==null?void 0:t.userProfile)==null?void 0:a.avatar)==null?void 0:b.url)},[(p=(u=t==null?void 0:t.userProfile)==null?void 0:u.avatar)==null?void 0:p.url]),e.jsx("div",{className:"dark:bg-grayScale-c2 mx-auto mt-5 h-full max-h-[560px] w-full max-w-[350px] rounded-xl bg-white px-7 py-8 lg:mx-0",children:e.jsx("div",{className:"text-center font-DMSans",children:e.jsxs("form",{onSubmit:s(y),children:[e.jsxs("div",{className:"relative inline-block rounded-full",children:[e.jsx(I,{src:n?n.toString():"https://images.unsplash.com/photo-1657662075863-3a5093fcb3f1?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=387&q=80",alt:"avt",className:"object-cover mb-4 h-[170px] w-[170px] select-none rounded-full"}),e.jsxs("button",{type:"button",className:"absolute bottom-0 right-0 flex -translate-y-1/3 -translate-x-1/3 cursor-pointer items-center justify-center rounded-full border-2 border-c6 bg-gray-c2 p-3 text-gray-c4 outline-none dark:border-c3 dark:bg-c2 dark:text-gray-c5 hover:bg-gray-c2 hover:text-black hover:text-opacity-60 transition-all",onClick:m,children:[e.jsx("span",{children:e.jsx(P,{})}),e.jsx("input",{type:"text",className:"hidden",...l("avatar")}),e.jsx("input",{id:"inp-upload",type:"file",className:"hidden",onChange:a=>{h(a),o(!1)}})]})]}),e.jsx("p",{className:"dark:text-grayScale-c6 mb-5 font-Roboto text-4xl"}),e.jsx("div",{className:"dark:bg-grayScale-c3 dark:text-grayScale-c5 mb-6 inline-block rounded-full bg-[#F4F5F6] py-2 px-7",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-c4",children:e.jsx(D,{})}),e.jsx("p",{className:"text-sm font-normal text-c4",children:"Identity verified"})]})}),e.jsx("div",{className:"dark:bg-grayScale-c3 mb-7 h-[2px] w-full bg-[#F5F6F7]"}),e.jsxs("div",{className:"flex justify-between mb-4 font-Roboto text-sm font-medium",children:[e.jsx("span",{className:"text-grayScale-c3 dark:text-grayScale-c7",children:"Form"}),e.jsx("span",{className:" text-grayScale-c4",children:"Viet Nam"})]}),e.jsxs("div",{className:"flex justify-between mb-4 font-Roboto text-sm font-medium",children:[e.jsx("span",{className:"text-grayScale-c3 dark:text-grayScale-c7",children:"Member Since"}),e.jsx("span",{className:" text-grayScale-c4",children:"05.06.1996"})]}),e.jsx("button",{disabled:i,type:"submit",className:d("text-white font-semibold bg-purple-400 w-full py-2 rounded-full transition-all",i?"bg-opacity-30 cursor-no-drop select-none hover:none":"hover:bg-purple-500"),onClick:()=>{r("avatar",n)},children:g?e.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-[3px]  border-t-2 border-white border-t-transparent bg-transparent"}):e.jsx("span",{children:"Upload Avatar"})})]})})})},Y=()=>{var u,p;E();const{userInfo:t}=F(a=>a.user);B();const{handleSubmit:s,control:r,setValue:l,setFocus:g}=w({mode:"onChange"}),[i,o]=c.useState(!0),[n,x]=c.useState(!0),[m,h]=c.useState(!1);l("fullName",(u=t==null?void 0:t.userProfile)==null?void 0:u.name),l("email",t==null?void 0:t.email),c.useEffect(()=>{document.title="Profile"},[]);const j=()=>{h(!m),x(!n),o(!1)},y=()=>{h(!m),x(!n),o(!0)};return e.jsxs("div",{className:"max-w-7xl flex flex-col gap-[30px] lg:flex-row lg:gap-[33px] mx-auto py-10 px-5 h-screen",children:[e.jsx(q,{}),e.jsxs("div",{className:"flex-1 px-5 lg:px-0",children:[e.jsxs("div",{className:"flex justify-between ",children:[e.jsx("div",{className:"border-gray-c3 my-5 hidden border-b pb-8 lg:block text-3xl text-white font-semibold",children:e.jsx(M,{})}),e.jsx("h1",{className:"border-gray-c3 my-5 hidden border-b pb-8 lg:block text-3xl text-white font-semibold",children:"My Profile"})]}),e.jsxs("div",{className:"font-DMSans",children:[e.jsxs("div",{className:"mb-2 flex justify-between",children:[e.jsxs("p",{className:"text-grayScale-c2 text-xl font-medium dark:text-white lg:text-2xl",children:["Hi, I'm ",(p=t==null?void 0:t.userProfile)==null?void 0:p.name]}),e.jsx("button",{disabled:m,type:"button",className:d("text-white text-semibold px-3 py-1 rounded-full border hover:bg-slate-100 hover:text-black transition-all border-gray-c4",m?"bg-gray-c4":"bg-transparent"),onClick:j,children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("span",{children:e.jsx(R,{})}),e.jsx("span",{children:"Edit your profile"})]})})]}),e.jsxs("form",{onChange:()=>x(!1),className:"mt-3",children:[e.jsx("div",{className:"grid grid-rows-3 gap-8",children:e.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[e.jsx(N,{name:"fullName",id:"fullName",placeholder:"Enter your full name",control:r,hasDisable:i,color:"text-white",children:"Full Name"}),e.jsx(N,{name:"email",id:"email",placeholder:"Enter your email",control:r,tabIndex:-1,hasDisable:i,color:"text-white",children:"Email"})]})}),e.jsx("div",{className:"mt-8 inline-block w-full text-right",children:e.jsx("div",{className:"inline-block",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(U,{onClick:y,disable:n}),e.jsx(V,{disable:n,children:"Update Profile"})]})})})]})]})]})]})};export{Y as default};
